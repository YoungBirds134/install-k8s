------*

  * Init K8s và join worker -> Cài ingress controller -> Cài MetalLB (trỏ ip node worker) -> 

  -> Cài Cert-Manager -> Login Clouflare lấy token cài isusser -> Running 

------*

  * Master node chỉ để điều phối quản lý ns system 
  * Ingress controller chạy ở worker và làm việc chính ở worker node 
  * Nat port và cài LoadBalance nếu không có server LB thì dùng IP node worker chính  gán cho LB 
  * telnet 192.168.1.13 30126 (port 30126 dùng chính)
  * Có thể tạo https file pem rồi map vào 
  * Chọn Node worker chính để quản lý nhóm khác  

  ----

  nodeSelector:
	kubernetes.io/hostname: 'ict-offline-prod-tu0ce8qa-worker-iuv91w55'  

  ----

  *VD: ingress-nginx    ingress-nginx-controller             LoadBalancer   10.99.240.93     192.168.1.13   80:32499/TCP,443:30126/TCP   17h

------*ERROR Fixing 'NotFound' Error: Resolving Issues with kubectl exec and logs in Kubernetes

    Khi lần đầu deploy component ở Worker sẽ gặp lỗi này -> không lấy được logs của pod, không attach hay excep
    (Failed to load logs: the server could not find the requested resource ( pods/log)
    https://www.youtube.com/watch?v=sSwlcTwG52U

---
    sudo apt  install jq  
    kubectl get nodes huynt-11 -o json | jq .status.addresses
---
    In this video, I address a common issue encountered when using kubectl exec and kubectl logs commands in Kubernetes. If you're experiencing the error message "Error from server (NotFound): the server could not find the requested resource (pods/log nginx)", this video is for you.

    I provide a step-by-step guide on how to resolve the issue by editing the kubelet's configuration file and adding the kubelet IP address to the configuration. By following along with the instructions, you'll be able to overcome the error and successfully execute kubectl exec and kubectl logs commands on your nginx pod.

    Don't let the "NotFound" error hinder your troubleshooting and debugging process. Watch the video now to learn the solution and ensure a smooth experience working with Kubernetes.

    If you find the content helpful, please consider liking, subscribing, and sharing the video with others who may encounter a similar issue. Feel free to leave any questions or feedback in the comments section, and I'll be glad to assist you.

    Join me in resolving the "NotFound" error and unlocking the full potential of kubectl exec and kubectl logs commands in Kubernetes.

    ```shell
    Error from server (NotFound): the server could not find the requested resource ( pods/log pod)
    error: unable to upgrade connection: pod does not exist
    Error from server (NotFound): pods "pod" not found
    ```

    ```shell
    kubectl get nodes
    kubectl get nodes worker72  -o wide
    kubectl get nodes worker72 -o json | jq .status.addresses

    # master71
    sudo nano /etc/systemd/system/kubelet.service.d/10-kubeadm.conf
    Environment="KUBELET_EXTRA_ARGS=--node-ip=192.168.56.71"

    # worker72
    sudo nano /etc/systemd/system/kubelet.service.d/10-kubeadm.conf
    Environment="KUBELET_EXTRA_ARGS=--node-ip=192.168.56.72"

    sudo systemctl daemon-reload
    sudo systemctl restart kubelet
    ```
